# RPG Maker MZ - スキル作成ガイド

MCPサーバーを使用してRPG Maker MZのスキルを自然言語で作成できます。

## 🎯 できること

- **ダメージスキル**の作成（攻撃魔法、物理技など）
- **回復スキル**の作成（ヒール、全体回復など）
- **バフスキル**の作成（攻撃力アップ、防御力アップなど）
- **デバフスキル**の作成（敵の能力低下）
- **状態異常スキル**の作成（毒、麻痺、睡眠など）
- **カスタムスキル**の作成（自由な組み合わせ）

## 📖 基本的な使い方

### 1. ダメージスキルの作成

```
「ファイアボール」という炎属性の攻撃魔法を作成して。
MP15で、敵単体に「a.mat * 4 - b.mdf * 2」のダメージ。
```

**MCPツール**: `create_damage_skill`

**パラメータ**:
- name: スキル名
- damageFormula: ダメージ計算式
- mpCost: MP消費
- scope: 対象 (1=敵単体, 2=敵全体)
- elementId: 属性 (0=無, 2=炎, 3=氷, 4=雷, 5=水, 6=土, 7=風, 8=光, 9=闇)
- description: 説明文

### 2. 回復スキルの作成

```
「グループヒール」という全体回復魔法を作成して。
MP20で、味方全体のHPを「a.mat * 3 + 50」回復。
```

**MCPツール**: `create_healing_skill`

**パラメータ**:
- name: スキル名
- healFormula: 回復量計算式
- mpCost: MP消費
- scope: 対象 (7=味方全体, 11=使用者自身)
- description: 説明文

### 3. バフスキルの作成

```
「攻撃力アップ」というスキルを作成して。
MP12で、味方全体の攻撃力を3ターン上昇させる。
```

**MCPツール**: `create_buff_skill`

**パラメータ**:
- name: スキル名
- buffType: バフの種類 (2=ATK, 3=DEF, 4=MAT, 5=MDF, 6=AGI)
- turns: 持続ターン数
- mpCost: MP消費
- scope: 対象 (7=味方全体, 11=使用者自身)
- description: 説明文

### 4. 状態異常スキルの作成

```
「ポイズンミスト」という毒攻撃を作成して。
MP10で、敵全体を80%の確率で毒状態にする。
```

**MCPツール**: `create_state_skill`

**パラメータ**:
- name: スキル名
- stateId: 状態ID (4=毒, 5=暗闇, 6=沈黙, 8=混乱, 9=魅了, 10=睡眠, 12=麻痺)
- chance: 成功率 (0.0~1.0)
- mpCost: MP消費
- scope: 対象 (1=敵単体, 2=敵全体)
- description: 説明文

## 🎨 詳細な指示例

### 例1: 強力な単体攻撃魔法

```
「メテオストライク」を作成：
- 炎属性の超強力な単体攻撃
- MP50消費
- ダメージ式: a.mat * 6 - b.mdf * 2
- 説明: 隕石を召喚して敵単体に甚大なダメージを与える
```

### 例2: 全体回復＋状態異常治療

```
「ヒーリングサンクチュアリ」を作成：
- 味方全体のHPを回復
- MP35消費
- 回復式: a.mat * 4 + 100
- 毒、暗闇、沈黙、混乱を治療
```

### 例3: 複合バフ

```
カスタムスキル「ウォークライ」を作成：
- MP25消費
- 味方全体の攻撃力と防御力を3ターン上昇
- エフェクト:
  - 攻撃力バフ (code: 31, dataId: 2, value1: 3)
  - 防御力バフ (code: 31, dataId: 3, value1: 3)
```

### 例4: ダメージ＋デバフ

```
「アーマーブレイク」を作成：
- 敵単体に物理ダメージ (a.atk * 3 - b.def)
- 同時に防御力を2ターン低下
- TP20消費
```

## 📊 重要なパラメータ

### Scope (対象範囲)

| 値 | 意味 |
|----|------|
| 0 | なし |
| 1 | 敵単体 |
| 2 | 敵全体 |
| 3 | 敵1体（ランダム） |
| 4 | 敵2体（ランダム） |
| 5 | 敵3体（ランダム） |
| 6 | 敵4体（ランダム） |
| 7 | 味方全体 |
| 8 | 味方全体（戦闘不能含む） |
| 9 | 味方単体（戦闘不能） |
| 10 | 味方単体 |
| 11 | 使用者自身 |

### Element ID (属性)

| 値 | 属性 |
|----|------|
| 0 | なし |
| 1 | 物理 |
| 2 | 炎 |
| 3 | 氷 |
| 4 | 雷 |
| 5 | 水 |
| 6 | 土 |
| 7 | 風 |
| 8 | 光 |
| 9 | 闇 |

### Damage Type (ダメージタイプ)

| 値 | タイプ |
|----|--------|
| 0 | なし |
| 1 | HPダメージ |
| 2 | MPダメージ |
| 3 | HP回復 |
| 4 | MP回復 |
| 5 | HP吸収 |
| 6 | MP吸収 |

### Buff/Debuff Type

| 値 | ステータス |
|----|------------|
| 2 | 攻撃力 (ATK) |
| 3 | 防御力 (DEF) |
| 4 | 魔法力 (MAT) |
| 5 | 魔法防御 (MDF) |
| 6 | 敏捷性 (AGI) |
| 7 | 運 (LUK) |

### Effect Code (効果コード)

| コード | 効果 |
|--------|------|
| 11 | HP回復 |
| 12 | MP回復 |
| 21 | ステート付与 |
| 22 | ステート解除 |
| 31 | バフ付与 |
| 32 | デバフ付与 |
| 41 | 特殊効果 |
| 42 | 成長 |
| 43 | スキル習得 |
| 44 | コモンイベント |

## 💡 ダメージ計算式の例

### 魔法攻撃

```
a.mat * 4 - b.mdf * 2        // 標準的な魔法攻撃
a.mat * 6 - b.mdf * 2        // 強力な魔法攻撃
100 + a.mat * 3              // 固定値＋魔法力
a.mat * (1 + a.level / 100)  // レベル依存
```

### 物理攻撃

```
a.atk * 4 - b.def * 2        // 標準的な物理攻撃
a.atk * 3 - b.def            // 防御力影響小
a.atk * 2                    // 防御力無視
```

### 回復

```
a.mat * 3 + 100              // 魔法力依存＋固定値
a.mhp * 0.5                  // 最大HPの50%
200                          // 固定値200
```

### 特殊

```
b.hp * 0.5                   // 対象の現在HPの50%
a.atk + a.mat                // 攻撃力＋魔法力
Math.randomInt(100) + 50     // ランダム(50-149)
```

## 🔧 詳細設定が必要な場合

複雑なスキルを作成する場合は `create_skill` ツールを使用：

```json
{
  "name": "超複雑スキル",
  "description": "説明",
  "iconIndex": 64,
  "mpCost": 30,
  "tpCost": 0,
  "scope": 2,
  "damage": {
    "type": 1,
    "elementId": 2,
    "formula": "a.mat * 5",
    "variance": 20,
    "critical": true
  },
  "effects": [
    { "code": 31, "dataId": 2, "value1": 3, "value2": 0 },
    { "code": 21, "dataId": 4, "value1": 0.5, "value2": 0 }
  ],
  "animationId": 52,
  "message1": "%1は超複雑スキルを使った！",
  "stypeId": 1
}
```

## 📝 実践例

### シナリオ1: 初心者向け回復魔法

**Claudeへの指示**:
```
「ヒール」という回復魔法を作って。
MP10で、味方単体のHPを「a.mat * 2 + 50」回復する。
```

**結果**: ヒールスキルが作成され、すぐにゲームで使用可能

### シナリオ2: 上級者向けコンボスキル

**Claudeへの指示**:
```
「フレイムバースト」を作成：
- 炎属性で敵全体にダメージ (a.mat * 4)
- 同時に30%の確率で火傷状態にする
- MP40消費
```

Claudeが2つのエフェクトを持つスキルを自動作成

### シナリオ3: サポート特化スキル

**Claudeへの指示**:
```
「シールドオーラ」を作成：
- 味方全体の防御力と魔法防御を5ターン上昇
- MP20消費
- アイコンは73番を使用
```

## ⚠️ 注意事項

1. **スキルID 1と2は削除不可** (攻撃・防御コマンド)
2. **変更後はRPG Maker MZで確認**してください
3. **アニメーションID**は既存のものを使用してください
4. **ダメージ式**は慎重に設定（バランス崩壊に注意）
5. **バックアップ**を取ってから大量のスキルを作成

## 🎮 使用開始

1. MCPサーバーを起動
2. Claude Desktopで会話開始
3. 自然言語でスキルを説明
4. Claudeが自動的に適切なツールを選択して作成

**例**:
```
「サンダーボルト」という雷属性の全体攻撃魔法を作って
```

Claudeが自動的に:
- `create_damage_skill` ツールを選択
- 適切なパラメータを設定
- スキルを作成
- 結果を報告

## 📚 参考情報

### スキルタイプ (stypeId)

- 1: 魔法
- 2: 必殺技
- カスタム: プロジェクトで定義可能

### アニメーション例

- 1-10: 物理攻撃
- 40-60: 魔法攻撃
- 47-50: 回復
- 52-53: バフ

### メッセージ変数

- %1: 使用者の名前
- %2: スキル名
- %3: 対象の名前

## 🚀 まとめ

MCPサーバーを使えば、RPG Maker MZのスキルを**自然言語で簡単に作成**できます。

- ✅ プログラミング知識不要
- ✅ 数秒でスキル作成
- ✅ バランス調整も簡単
- ✅ 大量のスキルを効率的に管理

ゲーム開発を加速させましょう！
